# ============================================================================
# Option C Fraud Detection System - Environment Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# OpenAI API
# ----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key-here

# ----------------------------------------------------------------------------
# Kafka (Confluent Cloud)
# ----------------------------------------------------------------------------
KAFKA_BOOTSTRAP_SERVERS=pkc-xxxxx.us-east1.gcp.confluent.cloud:9092
KAFKA_API_KEY=your-kafka-api-key
KAFKA_API_SECRET=your-kafka-api-secret
KAFKA_TOPIC_INPUT=fraud-detection-input
KAFKA_TOPIC_OUTPUT=fraud-detection-output
KAFKA_CONSUMER_GROUP=fraud-detection-group

# ----------------------------------------------------------------------------
# Database (Supabase PostgreSQL)
# ----------------------------------------------------------------------------
POSTGRES_CONNECTION_STRING=postgresql://postgres.xxxxx:password@aws-0-us-east-1.pooler.supabase.com:6543/postgres

# ----------------------------------------------------------------------------
# Redis Memory (Local or Upstash)
# ----------------------------------------------------------------------------
# Local (using Docker)
REDIS_URL=redis://localhost:6379
# OR Upstash Cloud
# REDIS_URL=redis://:your-password@your-endpoint.upstash.io:6379

ENABLE_REDIS=true

# ----------------------------------------------------------------------------
# Qdrant Vector Database (Local or Cloud)
# ----------------------------------------------------------------------------
# Local (using Docker)
QDRANT_URL=http://localhost:6333
# OR Qdrant Cloud
# QDRANT_URL=https://your-cluster.qdrant.io
# QDRANT_API_KEY=your-qdrant-api-key

QDRANT_COLLECTION=fraud_patterns
ENABLE_QDRANT=true

# ----------------------------------------------------------------------------
# Langfuse Observability (Optional)
# ----------------------------------------------------------------------------
LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key
LANGFUSE_SECRET_KEY=sk-lf-your-secret-key
LANGFUSE_HOST=https://cloud.langfuse.com

# ----------------------------------------------------------------------------
# Fraud Detection Configuration
# ----------------------------------------------------------------------------
# Fraud score thresholds
FRAUD_BLOCK_THRESHOLD=0.70
FRAUD_REVIEW_THRESHOLD=0.40

# Velocity fraud detection
VELOCITY_THRESHOLD_MS=500
CARD_TESTING_ORDERS=3
CARD_TESTING_WINDOW_MIN=5

# AI rate limiting
MAX_AI_REQUESTS_PER_MIN=20
AI_REQUEST_DELAY_SEC=3.0

# ----------------------------------------------------------------------------
# Logging
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO
